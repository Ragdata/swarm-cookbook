# undefined
builtin autoload -X

declare theme="${1:-}"

if [[ -z "$theme" ]] && [[ -f "$USERDIR/.dialogrc" ]]; then
	echo "Resetting Theme"
	rm -f "$USERDIR/.dialogrc"
fi

[[ "${theme:0:1}" != "." ]] && theme=".$theme"

if [[ -n "$theme" ]] && [[ -f "$SWARMDIR"/etc/dialog/"$theme" ]]; then
	[[ -f "$USERDIR"/.dialogrc ]] && rm -f "$USERDIR"/.dialogrc
	install -m 0644 -T "$SWARMDIR"/etc/dialog/"$theme" "$USERDIR"/.dialogrc
fi
